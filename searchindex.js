Search.setIndex({docnames:["index","updown/config","updown/data","updown/data.datasets","updown/data.readers","updown/models","updown/models.updown_captioner","updown/modules","updown/modules.attention","updown/modules.cbs","updown/modules.updown_cell","updown/utils","updown/utils.cbs","updown/utils.checkpointing","updown/utils.common","updown/utils.evalai"],envversion:{"sphinx.domains.c":1,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":1,"sphinx.domains.javascript":1,"sphinx.domains.math":2,"sphinx.domains.python":1,"sphinx.domains.rst":1,"sphinx.domains.std":1,"sphinx.ext.intersphinx":1,sphinx:56},filenames:["index.rst","updown/config.rst","updown/data.rst","updown/data.datasets.rst","updown/data.readers.rst","updown/models.rst","updown/models.updown_captioner.rst","updown/modules.rst","updown/modules.attention.rst","updown/modules.cbs.rst","updown/modules.updown_cell.rst","updown/utils.rst","updown/utils.cbs.rst","updown/utils.checkpointing.rst","updown/utils.common.rst","updown/utils.evalai.rst"],objects:{"updown.config":{Config:[1,1,1,""]},"updown.config.Config":{_validate:[1,2,1,""],dump:[1,2,1,""]},"updown.data":{datasets:[3,0,0,"-"],readers:[4,0,0,"-"]},"updown.data.datasets":{EvaluationDataset:[3,1,1,""],EvaluationDatasetWithConstraints:[3,1,1,""],TrainingDataset:[3,1,1,""]},"updown.data.datasets.EvaluationDataset":{from_config:[3,2,1,""]},"updown.data.datasets.EvaluationDatasetWithConstraints":{from_config:[3,2,1,""]},"updown.data.datasets.TrainingDataset":{from_config:[3,2,1,""]},"updown.data.readers":{CocoCaptionsReader:[4,1,1,""],ConstraintBoxesReader:[4,1,1,""],ImageFeaturesReader:[4,1,1,""]},"updown.models":{updown_captioner:[6,0,0,"-"]},"updown.models.updown_captioner":{UpDownCaptioner:[6,1,1,""]},"updown.models.updown_captioner.UpDownCaptioner":{_decode_step:[6,2,1,""],_get_loss:[6,2,1,""],_initialize_glove:[6,2,1,""],forward:[6,2,1,""],from_config:[6,2,1,""]},"updown.modules":{attention:[8,0,0,"-"],cbs:[9,0,0,"-"],updown_cell:[10,0,0,"-"]},"updown.modules.attention":{BottomUpTopDownAttention:[8,1,1,""]},"updown.modules.attention.BottomUpTopDownAttention":{_project_image_features:[8,3,1,""],forward:[8,2,1,""]},"updown.modules.updown_cell":{UpDownCell:[10,1,1,""]},"updown.modules.updown_cell.UpDownCell":{_average_image_features:[10,3,1,""],forward:[10,2,1,""]},"updown.utils":{cbs:[12,0,0,"-"],checkpointing:[13,0,0,"-"],common:[14,0,0,"-"],evalai:[15,0,0,"-"]},"updown.utils.cbs":{add_constraint_words_to_vocabulary:[12,4,1,""],cbs_select_best_beam:[12,4,1,""]},"updown.utils.checkpointing":{CheckpointManager:[13,1,1,""]},"updown.utils.checkpointing.CheckpointManager":{step:[13,2,1,""]},"updown.utils.common":{cycle:[14,4,1,""]},"updown.utils.evalai":{NocapsEvaluator:[15,1,1,""]},"updown.utils.evalai.NocapsEvaluator":{evaluate:[15,2,1,""]},updown:{config:[1,0,0,"-"]}},objnames:{"0":["py","module","Python module"],"1":["py","class","Python class"],"2":["py","method","Python method"],"3":["py","attribute","Python attribute"],"4":["py","function","Python function"]},objtypes:{"0":"py:module","1":"py:class","2":"py:method","3":"py:attribute","4":"py:function"},terms:{"case":[4,10],"class":[1,3,4,6,8,10,12,13,15],"default":[1,3,6,10,12,13,15],"float":[3,13,15],"function":12,"import":1,"int":[3,6,8,10,12,13,15],"return":[3,4,6,8,10,12,15],"static":6,"true":[3,4],"while":[3,10],CBS:[1,3,6,12],For:[4,6,8,10,13],GBs:4,NMS:[1,3],One:[13,15],The:[4,6,10,12],These:[4,6,12],Use:3,Used:8,Using:14,__________:1,___________:10,__________________:10,__getitem__:4,__len__:4,_almost_:4,_average_image_featur:10,_decode_step:6,_get_loss:6,_initialize_glov:6,_project_image_featur:8,_valid:1,about:12,abs:[],access:[1,3],accord:12,accordingli:12,across:6,actual:[8,10,15],adapt:[8,10],add:12,add_constraint_words_to_vocabulari:12,added:[0,12],adjac:[3,6],after:1,agraw:0,all:[1,3,6,12,15],allennlp:[1,3,6,12],allow:[1,15],along:3,alreadi:12,also:[6,12],among:12,analog:[6,10],anderson2017up:0,anderson:[0,6,8,10],ani:[1,4],anim:[1,3],annot:[1,3,4,15],answer:0,anyth:4,api:[8,10,13],appear:6,appli:8,aption:0,architectur:[1,10],articl:[],arxiv:[],assum:1,attend:8,attent:[0,1,6,7,10],attention_projection_s:[1,6,10],attr:4,attribut:1,author:0,automat:12,avail:1,averag:10,avoid:[1,12,15],base:[0,1,3,4,6,8,10,13,15],baselin:[1,4],basic:[6,10,12],batch:[1,3,6,8,10,14],batch_siz:[1,6,8,10,12],batra:0,beam:[0,1,3,6,12],beam_log_prob:12,beam_search:6,beam_siz:[1,6,12],beamsearch:6,becaus:[3,4,6,8,10,14],befor:[1,6,8,10],behav:10,benchmark:0,best:[6,12,13,15],bewar:4,binari:10,bject:0,bleu:15,booktitl:0,bool:[3,4,6],both:[8,15],bottom:[0,1,6,8,10],bottomuptopdownattent:8,bound:[1,3,4],boundari:6,box:[1,3,4,6,8,10],boxes_jsonpath:[3,4],buehler:0,build:12,built:3,butd:10,cach:[8,10],cale:0,call:[6,8,10,13],can:[1,3,4,15],caption:[1,3,4,6,10,12,15],caption_token:6,captions_jsonpath:[3,4],captions_train2017:1,captur:6,care:10,categori:4,caus:14,cbs:[0,1,6,7,11],cbs_select_best_beam:[3,12],cell:[1,6,10],chang:12,checkpoint:[0,11,15],checkpointmanag:13,chen:0,chosen:12,chri:0,cider:15,cite:0,ckpt:13,ckpt_manag:13,class_hierarchi:1,classmethod:[3,6],clean:[8,10],clip:1,clip_gradi:1,close:13,cnn:4,coco:[0,1,3,4,15],coco_train2017:4,coco_train2017_resnet101_faster_rcnn_genome_adapt:[],coco_train2017_vg_detector_features_adapt:1,coco_val2017:4,cococaptionsread:4,code:0,collate_fn:3,collect:1,column:1,comma:[1,3,12],common:[0,8,11],comput:[0,1,6,8,10],confer:0,confid:[1,3],config:[0,3,6],config_overrid:1,config_yaml:1,configur:1,conflict:1,consid:0,constrain:[0,1,6],constrainedbeamsearch:[3,6,12],constraint:[1,3,6,12],constraint_wordform:1,constraintboxesread:4,constructor:14,contain:[1,3,4,6,8,10,12],control:1,coordin:4,correspond:[1,3,4,6,12],could:[3,12],cross:6,current:10,cvpr:0,cycl:14,damien:0,data:[0,1,6,12,14],dataload:[3,14],dataparallel:13,dataset:[0,2,4],decai:1,decod:[0,1,3,6,8,10,12],definit:[1,12],desai:0,descend:12,detail:3,detect:[1,3,4],detector:4,devi:0,devic:14,dhruv:0,dict:[1,6,10,13,14,15],differ:[6,8,10],dimens:[8,12],directli:[3,6],directori:[1,13],disk:4,doe:[4,6],dog:[1,3],doing:15,domain:[6,15],done:[14,15],down:[0,1,6,8,10],drop:12,dump:1,duplic:12,dure:[1,3,6,13,15],each:[4,6,8,10],earli:15,effici:1,either:[1,6,12],element:[6,8,12],elsewher:1,embed:[1,4,6,10],embedding_s:[1,6,10],empti:13,enabl:15,end:1,entir:15,entropi:6,epoch:[13,14],epoch_or_iter:13,error:1,etc:[1,3,12,15],evalai:[0,11],evalu:[1,6,8,10,15],evaluationdataset:3,evaluationdatasetwithconstraint:3,exampl:[1,4,13,15],execut:[8,10],exhaust:15,exist:13,expand:12,explod:1,extract:[1,3,4],fals:[1,4,6],featur:[1,3,4,6,8,10],feature_s:4,features_h5path:4,few:15,field:[3,4,12],fig:10,file:[1,3,4,12,13],file_path:1,filename_prefix:13,filter:[1,3],find:[0,1,6],finit:[3,6],first:[1,3,6,8,10,12],fix:14,follow:[4,10,13],forc:6,form:[1,3,12],format:[1,3,4,15],forward:[6,8,10],four:4,from:[1,3,4,6,8,10,14],from_config:[3,6],frozen:6,fsm:[3,6,12],gener:[1,3,14],get:0,given:[6,10,12],given_constraint:12,glove:6,goe:12,gould:0,gradient:1,ground:[3,6],hand:12,happen:1,harm:14,harsh:0,has:12,have:[4,14],height:4,held:15,help:6,henc:6,here:[1,3,4,6],hidden:[1,6,10],hidden_s:[1,6,10],hidden_st:10,hierarchi:[1,3],hierarchy_jsonpath:3,higher:[1,3,13],highest:12,hit:13,how:[12,15],howev:15,http:[],hyper:1,hyperparamet:1,iccv:0,ids:4,ignor:6,imag:[0,1,3,4,6,8,10,12],image_bottomup_featur:4,image_featur:[6,8,10],image_feature_s:[1,6,8,10],image_features_h5path:3,image_features_mask:8,image_id:[4,15],imagefeaturesread:4,implement:[0,4,12],in_memori:[3,4],index:[3,4,6],infer:[3,6],infer_box:1,infer_capt:1,infer_featur:1,infinit:15,info:1,initi:[1,6,10],inproceed:0,input:[1,6,10],instanc:[3,4,6,8,10],instanti:[1,3,6],instead:13,instruct:4,integ:4,intern:[0,6],iou:[1,3],iter:[1,14,15],itertool:14,itself:[8,10],jain:0,johnson:0,journal:[],json:[1,3,4],karan:0,keep:[8,10,13],kei:[1,4,6,10,15],kwarg:[3,6],languag:[1,3,6,10],last:[8,10],leak:14,learn:[1,13,15],least:[4,8,10,12,15],lee:0,lei:0,length:[1,3,4,6],less:[12,15],lesser:[6,8,10],let:1,like:[1,6],likelihood:[6,12],linear:13,linearli:1,list:[1,3,12,15],load:[3,4],local:15,log:6,logit:6,longer:[1,3,6],loop:15,loss:6,lower:13,lru:[8,10],lstm:[1,6,8,10],lstmcell:[6,10],machin:[3,6],mai:[1,4,6,14],maintain:[8,10],make:3,manag:1,mani:12,map:[3,6],mark:0,mask:[6,8,10],matric:3,matrix:6,max:13,max_caption_length:[1,3,6],max_decoding_step:12,max_given_constraint:[1,3],max_words_per_constraint:1,maxim:6,maximum:[1,3,6,8,10],mean:10,meaning:6,memori:[3,4,14],meteor:15,method:4,metric:[13,15],might:[6,8,10],min:13,min_constraints_to_satisfi:[1,6,12],minimum:[1,6,12],mode:13,model:[0,1,3,13,15],modif:1,modul:[0,1,6,13],momentum:1,more:[3,6],most:[1,6],much:4,multi:1,multipl:6,must:[1,4],name:[1,3,4,12],namespac:12,need:[12,13],nest:[1,15],net_beam_s:6,never:6,next:10,nms_threshold:[1,3],nocap:[1,3,4,15],nocaps2019:0,nocaps_test:4,nocaps_test_image_info:[],nocaps_test_resnet101_faster_rcnn_genome_adapt:[],nocaps_v:4,nocaps_val_image_info:1,nocaps_val_oi_detector_box:1,nocaps_val_resnet101_faster_rcnn_genome_adapt:[],nocaps_val_vg_detector_features_adapt:1,nocapsevalu:15,non:13,none:[6,8,10,15],nonetyp:[6,8,10,14,15],note:[3,13,15],notion:14,num_box:[4,6,8,10],num_constraint:6,num_epoch:13,num_imag:4,num_iter:1,num_stat:[6,12],number:[1,3,6,12,14,15],numpi:1,object:[1,3,4,12,13,15],observ:13,occurr:3,onc:[8,10],one:[4,6],onli:[0,4,12],open:[1,3,4,12],optim:[1,13],option:[1,3,4,6,10,12,13,15],org:0,other:4,our:[1,4],out:[6,12,15],output:[8,10],ovel:0,over:[6,8],overrid:1,overriden:1,packag:1,pad:[6,8,10],pair:6,paper:[0,1],paramet:[1,3,4,6,8,10,12,13,15],parikh:0,particular:[1,6,10],pass:4,path:[1,3,4,12,13],per:[3,6],perform:[1,6,10,13,15],period:13,perpetu:14,peter:0,phase:[1,15],pleas:0,plural:[1,3,12],pool:10,possibl:[1,3,12],practic:15,pre:[1,3,4],predict:[1,3,6,10,15],prefix:13,preprint:[],previou:6,previous_predict:6,primari:4,privat:15,probabl:6,process:4,produc:4,project:[1,6,8,10],projection_s:8,propos:0,provid:[1,3,6,8,10,12],pth:13,publicli:1,pytorch:[1,3,4,8,13],queri:8,query_s:8,query_vector:8,question:0,rais:1,ram:4,random:[1,14],random_se:1,randomli:[1,6],rang:13,rate:[1,13,15],read:4,readabl:1,reader:[0,2],recommend:[1,4,6,15],record:13,recurr:6,refer:3,regular:6,rel:1,relev:1,remain:[8,10],remot:15,repres:[3,6],reproduc:1,requir:[1,3,4,15],retriev:15,rishabh:0,root:1,roug:15,run:6,same:[6,8,10],sampl:1,satisfi:[1,3,6,12],save:[1,8,10,13],schedul:[13,15],score:[1,3],script:15,search:[0,1,6],second:[1,3,12],seed:1,seen:[8,10],select:[1,3,6,12,15],self:[1,6,8,10,13,15],semant:6,sensibl:1,separ:[1,3,12],sequenc:[1,3,6,12],sequenti:1,serial:13,serialization_dir:13,serv:15,set:4,sgd:[1,13],shape:[4,6,8,10,12],should:4,show:[6,15],signatur:[8,10],similar:[4,10],simpli:4,singl:[8,10],singular:[1,3,12],size:[1,4,6,8,10],some:[8,10],sometim:4,sort:12,sourc:[0,1,3,4,6,8,10,12,13,14,15],specif:[3,15],specifi:[1,3,12,13],spice:15,split:[4,15],start:12,state:[1,3,6,10,12,13],state_dict:13,stefan:0,step:[6,8,10,13],stephen:0,stop:15,str:[1,3,4,6,10,12,13,14,15],structur:[1,15],submiss:15,submit:15,suffici:4,sum:6,support:[0,12],suppress:[1,3],symlink:1,take:[6,10,15],target:6,target_mask:6,teacher:6,ten:4,tenei:0,tensor:[3,6,8,10,12,13,14],test:[1,3,4,15],test_capt:[],test_featur:[],textual:[1,6,8,10],than:[1,3,4,6,12],thei:[6,12,15],them:15,thi:[0,1,3,4,6,8,10,12,13,14,15],threshold:[1,3],through:[1,4],till:1,time:[1,6,8,10],titl:0,tmp:13,togeth:15,token:[3,4,6,10,12],token_embed:10,too:[4,6],tool:15,top:[0,1,6,8,10],torch:[3,6,8,10,12,13,14],total:[6,12],track:13,train2017:[1,3,4],train:[0,1,3,4,6,8,10,13,14,15],train_capt:1,train_featur:1,trainingdataset:3,transit:[3,6],truncat:[1,3,6],truth:[3,6],tsv:[1,3,12],tupl:[6,10,12],two:[1,3,4,12],type:[13,15],typic:[4,8],unexpec:14,union:[6,8,10,13,15],unit:10,unknown:6,unnorm:6,updat:[6,10,13],updown_caption:[0,5],updown_cel:[0,7],updowncaption:[3,6,10],updowncel:[6,8,10],use:[1,4,6,8,10],use_cb:[1,6],used:[3,4,6,8,14,15],useful:0,user:15,using:[0,4,6,8,15],usual:[3,4],util:[0,3,4],val:[1,3,4,15],val_capt:[],val_featur:[],val_loss:13,valid:[1,13],valu:[1,8,10,12,13],variabl:10,vector:[6,8],veri:[10,15],vision:0,visual:0,vocab_s:6,vocabulari:[1,3,6,12],wang:0,weight:[1,6,8,10],weight_decai:1,well:0,when:[3,6,13],where:[6,8,15],whether:[1,3,4,6],which:[1,3,8,10,12,13,14,15],wide:1,width:4,wish:6,without:15,word:[1,3,4,6,10,12],wordform:1,wordforms_tsvpath:[3,12],work:15,worri:12,would:[6,8,10],wrap:3,xiaodong:0,xinlei:0,yaml:1,year:0,yet:6,yield:14,you:[0,1,4],yufei:0,zero:[1,6,8,10],zhang:0},titles:["UpDown Captioner Baseline for <code class=\"docutils literal notranslate\"><span class=\"pre\">nocaps</span></code>","updown.config","updown.data","updown.data.datasets","updown.data.readers","updown.models","updown.models.updown_captioner","updown.modules","updown.modules.attention","updown.modules.cbs","updown.modules.updown_cell","updown.utils","updown.utils.cbs","updown.utils.checkpointing","updown.utils.common","updown.utils.evalai"],titleterms:{api:0,attent:8,baselin:0,caption:0,cbs:[9,12],checkpoint:13,common:14,config:1,data:[2,3,4],dataset:3,evalai:15,model:[5,6],modul:[7,8,9,10],nocap:0,reader:4,refer:0,updown:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],updown_caption:6,updown_cel:10,util:[11,12,13,14,15]}})